<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Devices Dashboard</title>
  <link rel="stylesheet" href="admin_device.css" />

</head>
<body>

  <!-- Sticky Top Tab with Wallpaper Background -->
  <div class="top-tab">
    <span class="tab-title">Devices Dashboard</span>
    <button class="signout-button" onclick="signOut()">Sign Out</button>
    <button class="dashboard-button" onclick="goToDashboard()">Return to Dashboard</button>
  </div>

  <!-- Main Content Container -->
<div class="main-container">
  <!-- Left Panel: Device Form -->
  <div class="device-form">
    <h2>Add New Device</h2>
    <label>Device ID:</label>
    <input type="text" id="deviceId" placeholder="Enter Device ID" />

    <label>Device Name:</label>
    <input type="text" id="deviceName" placeholder="Enter Device Name" />

    <label>Room Assigned:</label>
    <input type="text" id="roomAssigned" placeholder="Enter Room" />

    <label>Device Status:</label>
    <select id="deviceStatus">
      <option value="Online">Online</option>
      <option value="Offline">Offline</option>
      <option value="Under Maintenance">Under Maintenance</option>
    </select>

    <button onclick="addDevice()">Add Device</button>
  </div>

  <!-- Right Panel: Existing Devices -->
  <div class="device-list">
    <h2>Existing Devices</h2>
    <div id="deviceContainer">
      <!-- Devices will be listed here -->
    </div>
  </div>
</div>


  <script>
    const devices = [];

    function addDevice() {
      const id = document.getElementById("deviceId").value.trim();
      const name = document.getElementById("deviceName").value.trim();
      const room = document.getElementById("roomAssigned").value.trim();
      const status = document.getElementById("deviceStatus").value;

      if (!id || !name || !room || !status) {
        alert("Please fill in all fields.");
        return;
      }

      const newDevice = { id, name, room, status };
      devices.push(newDevice);
      updateDeviceList();

      // Clear fields
      document.getElementById("deviceId").value = "";
      document.getElementById("deviceName").value = "";
      document.getElementById("roomAssigned").value = "";
      document.getElementById("deviceStatus").value = "Online";
    }

    function updateDeviceList() {
      const container = document.getElementById("deviceContainer");
      container.innerHTML = "";

      if (devices.length === 0) {
        container.innerHTML = "<p>No devices added yet.</p>";
        return;
      }

      devices.forEach(device => {
        const div = document.createElement("div");
        div.className = "device-item";

        let statusClass = "";
        if (device.status === "Online") statusClass = "status-online";
        else if (device.status === "Offline") statusClass = "status-offline";
        else if (device.status === "Under Maintenance") statusClass = "status-maintenance";


        div.innerHTML = `
          <strong>ID:</strong> ${device.id} <br>
          <strong>Name:</strong> ${device.name} <br>
          <strong>Room:</strong> ${device.room} <br>
          <strong>Status:</strong> <span class="status-badge ${statusClass}">${device.status}</span>
        `;
        container.appendChild(div);
      });
    }

    function goToDashboard(){
      window.location.href="admin_dashboard.html";
    }

    function signOut() {
      if (confirm("Are you sure you want to sign out?")) {
        window.location.href = "LoginPage.html"; // change to your actual login page
      }
    }
  </script>
</body>
</html>
